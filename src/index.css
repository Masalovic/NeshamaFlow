@tailwind base;
@tailwind components;
@tailwind utilities;

/* -------------------------------------------------------
   THEME VARIABLES (accent palettes)
   - Set by <html data-theme="berry|ocean|forest"> (default: berry)
   - Dark mode toggled by <html class="dark">
--------------------------------------------------------*/
:root {
  /* Berry (current default) */
  --accent-50:  #fdf2f8;
  --accent-100: #fce7f3;
  --accent-200: #fbcfe8;
  --accent-300: #f9a8d4;
  --accent-400: #f472b6;
  --accent-500: #ec4899;
  --accent-600: #db2777;
  --accent-700: #be185d;
  --accent-800: #9d174d;
  --accent-900: #831843;

  /* Ring color (used by .ring-accent) */
  --accent-ring: var(--accent-500);
}

/* Ocean (blue) */
:root[data-theme="ocean"] {
  --accent-50:  #eff6ff;
  --accent-100: #dbeafe;
  --accent-200: #bfdbfe;
  --accent-300: #93c5fd;
  --accent-400: #60a5fa;
  --accent-500: #3b82f6;
  --accent-600: #2563eb;
  --accent-700: #1d4ed8;
  --accent-800: #1e40af;
  --accent-900: #1e3a8a;
}

/* Forest (green) */
:root[data-theme="forest"] {
  --accent-50:  #ecfdf5;
  --accent-100: #d1fae5;
  --accent-200: #a7f3d0;
  --accent-300: #6ee7b7;
  --accent-400: #34d399;
  --accent-500: #10b981;
  --accent-600: #059669;
  --accent-700: #047857;
  --accent-800: #065f46;
  --accent-900: #064e3b;
}

/* Accent utilities */
.text-accent      { color: var(--accent-600); }
.text-accent-700  { color: var(--accent-700); }
.bg-accent        { background-color: var(--accent-600); }
.bg-accent-100    { background-color: var(--accent-100); }
.border-accent    { border-color: var(--accent-600); }
.ring-accent      { --tw-ring-color: var(--accent-ring); }
a.link-accent     { color: var(--accent-700); text-decoration: underline; }
a.link-accent:hover { color: var(--accent-800); }

/* -------------------------------------------------------
   BASE
--------------------------------------------------------*/
/* Soft, airy base */
body {
  @apply bg-chiffon text-velvet;
  font-family: theme("fontFamily.sans");
}

/* Dark mode neutrals (kept gentle) */
.dark body { @apply bg-neutral-950 text-neutral-100; }

/* iPhone frame */
.screen { @apply w-[375px] h-[812px] mx-auto bg-white rounded-2xl shadow-soft overflow-hidden; }
.dark .screen { @apply bg-neutral-900; }

/* Large iOS-style title */
.ios-title { @apply text-[28px] leading-tight font-semibold tracking-tight; }

/* Cards & tiles */
.card { @apply bg-white rounded-2xl shadow-soft border border-silk/50 p-4; }
.tile { @apply card p-4 flex items-start gap-3; }
.dark .card { @apply bg-neutral-900 border-neutral-800; }
.dark .tile { @apply bg-neutral-900 border-neutral-800; }

/* Inputs */
.input {
  @apply w-full h-12 px-4 rounded-xl bg-gray-100/80 placeholder:text-gray-400
         focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white;
}
.input:focus { @apply ring-accent; } /* use accent ring */
.dark .input {
  @apply bg-neutral-800 placeholder:text-neutral-400 focus:ring-offset-neutral-900;
}

/* -------------------------------------------------------
   Buttons (accessible states) — now accent-driven
   NOTE: We keep your class names but color them via CSS variables.
--------------------------------------------------------*/
.btn {
  @apply h-12 inline-flex items-center justify-center rounded-pill px-5
         text-sm font-medium transition-all select-none outline-none
         focus-visible:ring-2 focus-visible:ring-offset-2
         disabled:opacity-45 disabled:cursor-not-allowed;
}
.btn:focus-visible { @apply ring-accent; }
.dark .btn { @apply focus-visible:ring-offset-neutral-900; }

/* Primary — accent */
.btn-primary {
  background-color: var(--accent-600);
  color: #fff;
  box-shadow: var(--tw-shadow);
}
.btn-primary:hover  { background-color: var(--accent-700); }
.btn-primary:active { background-color: var(--accent-800); }

/* Secondary — smoke/velvet (keep neutral) */
.btn-secondary {
  @apply bg-smoke text-white shadow-soft
         hover:bg-black hover:shadow
         active:bg-black/90 active:shadow-soft-press;
}
.dark .btn-secondary {
  @apply bg-neutral-800 hover:bg-neutral-700 active:bg-neutral-700;
}

/* Outline — white bg, accent border/text */
.btn-outline {
  background-color: #fff;
  color: var(--accent-800);
  border: 1px solid var(--accent-300);
}
.btn-outline:hover  { border-color: var(--accent-500); color: var(--accent-900); box-shadow: var(--tw-shadow); }
.btn-outline:active { background-color: var(--accent-50); }
.dark .btn-outline  { background-color: transparent; }

/* Ghost — very light accent */
.btn-ghost {
  background: transparent;
  color: var(--accent-800);
}
.btn-ghost:hover  { background-color: var(--accent-50); }
.btn-ghost:active { background-color: var(--accent-100); }
.dark .btn-ghost:hover  { background-color: rgba(255,255,255,0.05); }
.dark .btn-ghost:active { background-color: rgba(255,255,255,0.08); }

/* -------------------------------------------------------
   Safe area + nav spacing
--------------------------------------------------------*/
/* Safe area padding for bottom nav */
.safe-bottom { padding-bottom: env(safe-area-inset-bottom); }

/* Height of the fixed bottom nav (64px) + iOS home-indicator safe area */
:root { --nav-height: 64px; }  /* <-- was 44px */

/* Any scroll area inside the app gets safe bottom padding so it never hides behind nav */
.screen .overflow-y-auto,
.min-h-\[100svh\] .overflow-y-auto {
  padding-bottom: calc(var(--nav-height) + env(safe-area-inset-bottom));
}

/* Optional: gentle top shadow for the fixed bottom nav */
.safe-bottom-shadow { box-shadow: 0 -6px 16px rgba(15,15,16,0.06); }
